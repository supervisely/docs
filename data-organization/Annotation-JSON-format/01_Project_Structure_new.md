# Project Structure

In Supervisely, all data and annotations are stored inside individual projects which consist of datasets containing files and Project Meta - a collection of classes and tags.

When downloaded, each project is converted into a folder structure that includes a `meta.json` file containing Project Meta, and dataset folders with individual annotation files (and optionally the original data files). This organization enables seamless data transfer between Supervisely and local storage using the `Supervisely Format` import plugin when needed.

This structure remains the same for every type of project in Supervisely.

## Project Structure System

![project\_structure system](<../../.gitbook/assets/project_structure (1).png>)

**Project Folder**

On the top level we have Project folders, these are the elements visible on the main Supervisely dashboard. Inside them, they can contain only Datasets and Project Meta information, all other data has to be stored a level below in a Dataset. All datasets within a project have to contain content of the same category.

**Project Meta**

Project Meta contains essential information about the project, including **Classes** and **Tags**, which are defined project-wide and can be used for labeling in any dataset within the current project. It also includes the **Project Type** and **Settings**, which configure the labeling interface.

**Datasets**

Datasets are the second level folders inside the project, they host the individual data files and their annotations.

#### **Items**

Every data file in the project has to be stored inside a dataset. Each file as its own set of annotations.

## Downloaded Project Structure

All projects downloaded from Supervisely maintain the same basic structure, with the contents varying based on which download option you chose.

**Download Archive**

When you select one of the download option, the system automatically creates an archive with the following name structure: `project_name.tar`

**Downloaded Project**

All projects downloaded from Supervisely have the following structure:

![project\_structure system](<../../.gitbook/assets/project_structure (1).png>)

ğŸ“‚ Root folder for the project named `project name`:

* ğŸ“„ `meta.json` file
* ğŸ“‚ Dataset folders, each named `dataset_name`, which contains:
  * ğŸ“‚ `ann` folder, contains annotation files, each named `source_media_file_name.json` for the corresponding file
  * ğŸ“‚ `img` (`video` or `pointcloud`) folder, contains source media
  * ğŸ“‚ `img_info` folder, contains JSON files with representation of `ImageInfo` downloaded from instance
  * ğŸ“‚ `meta` optional folder, contains corresponding JSON files with metadata for images

### Project Structure Eample

The following structure is an example of a project with 2 datasets, each containing 2 images with annotations, and also meta directory with metadata for each image.

```
ğŸ“¦ project-name
 â”£ ğŸ“‚ dataset-name-001
 â”ƒ â”£ ğŸ“‚ ann
 â”ƒ â”ƒ â”£ ğŸ“„ pexels-photo-101063.png.json
 â”ƒ â”ƒ â”— ğŸ“„ pexels-photo-103127.png.json
 â”ƒ â”£ ğŸ“‚ img
 â”ƒ â”ƒ â”£ ğŸï¸ pexels-photo-101063.png
 â”ƒ â”ƒ â”— ğŸï¸ pexels-photo-103127.png
 â”ƒ â”£ ğŸ“‚ meta
 â”ƒ â”ƒ â”£ ğŸ“„ pexels-photo-101063.png.json
 â”ƒ â”ƒ â”— ğŸ“„ pexels-photo-103127.png.json
 â”ƒ â”£ ğŸ“‚ img_info
 â”ƒ â”ƒ â”£ ğŸ“„ pexels-photo-101063.png.json
 â”ƒ â”ƒ â”— ğŸ“„ pexels-photo-103127.png.json
 â”£ ğŸ“‚ dataset-name-002
 â”ƒ â”£ ğŸ“‚ ann
 â”ƒ â”ƒ â”£ ğŸ“„ pexels-photo-100583.png.json
 â”ƒ â”ƒ â”— ğŸ“„ pexels-photo-106118.png.json
 â”ƒ â”£ ğŸ“‚ img
 â”ƒ â”ƒ â”£ ğŸï¸ pexels-photo-100583.png
 â”ƒ â”ƒ â”— ğŸï¸ pexels-photo-106118.png
 â”ƒ â”— ğŸ“‚ meta
 â”ƒ â”ƒ â”£ ğŸ“„ pexels-photo-100583.png.json
 â”ƒ â”ƒ â”— ğŸ“„ pexels-photo-106118.png.json
 â”ƒ â”£ ğŸ“‚ img_info
 â”ƒ â”ƒ â”£ ğŸ“„ pexels-photo-100583.png.json
 â”ƒ â”ƒ â”— ğŸ“„ pexels-photo-106118.png.json
 â”— ğŸ“„ meta.json
```

## Extended Project Structure

A project directory may contain the following folders or files:

* ğŸ“‚ `blob` optional folder, contains blob files that are used for optimized uploads of projects. These blob files are TAR archives with hundreds of thousands of small images.
* ğŸ“„ `obj_class_to_machine_color.json` - optional file for image annotation projects. Mapping between machine colors and classes in machine mask. Could be generated by applications such as [Export As Masks](https://ecosystem.supervisely.com/apps/export-as-masks)
*   ğŸ“„ `key_id_map.json` - optional file, created when annotating inside the Supervisely interface. Establishes correspondence between unique identifiers (keys and IDs) of items, objects, and frames where objects are located. The project file system stores these identifiers and keys on disk, which is necessary for navigation and for using the high-level API and applications.

    A dataset directory may contain the following folders or files:

    * ğŸ“‚ `masks_human` optional folder for image annotation projects, contains .png files with RGB semantic segmentation masks where every pixel has the color of the corresponding class. Could be generated by applications such as [Export As Masks](https://ecosystem.supervisely.com/apps/export-as-masks)
    * ğŸ“‚ `masks_machine` optional folder for image annotation projects, contains .png files with semantic segmentation masks (machine annotations). This files should have the same name as the original images (may have a different extension). Could be generated by applications such as [Export As Masks](https://ecosystem.supervisely.com/apps/export-as-masks)
    * ğŸ“‚ `masks_instances` optional folder contains BW instance segmentation masks for every object on the image. Could be generated by applications such as [Export As Masks](https://ecosystem.supervisely.com/apps/export-as-masks)
    * ğŸ“„ `blob_1_offsets.pkl` optional pickle files, contain batches (lists) of `BlobImageInfo` objects, which represent file names and their offsets inside blob files. These files are used to add images to the project dataset based on their offsets.

### Understanding Blob Files and Offsets for Optimized Project Handling

Supervisely provides a powerful optimization for projects containing a large number of small image files through its blob file system. Instead of handling thousands of individual files (which can lead to significant overhead in network transfers and filesystem operations), blob files consolidate many images into a single large binary file. This approach dramatically improves upload and download speeds, especially when dealing with datasets containing tens or hundreds of thousands of images.

Complementing the blob files are offset files with the suffix `_offsets.pkl`, which store metadata about each image's location within the blob. These files contain `BlobImageInfo` objects that define the byte range representing each image in the binary.

```
ğŸ“‚ project-name
 â”£ ğŸ“‚ blob
 â”ƒ  â”— ğŸ“¦ small_images.tar
 â”£ ğŸ“‚ dataset-name-001
 â”ƒ  â”£ ğŸ“„ small_images_offsets.pkl
 â”ƒ  â”£ ğŸ“‚ ann
 â”ƒ  â”ƒ  â”£ ğŸ“„ pexels-photo-101063.png.json
 â”ƒ  â”ƒ  â”£ ğŸ“„ small-image-0000001.png.json
 â”ƒ  â”ƒ  â”£ ...
 â”ƒ  â”ƒ  â”— ğŸ“„ small-image-0999999.png.json
 â”ƒ  â”— ğŸ“‚ img
 â”ƒ     â”— ğŸï¸ pexels-photo-101063.png
 â”— ğŸ“„ meta.json
```

#### Related:

* To learn more about extended Supervisely format with blob files, refer to this page: [ğŸ¤– Supervisely Blob](../import/import/supported-formats-images/supervisely-blob.md)
* To export extended Supervisely format with the blob files and offsets, use the [Export to Supervisely format: Blob](https://ecosystem.supervisely.com/apps/export-to-supervisely-format-blob) application.\
  â˜ï¸ However, other applications export projects in the Supervisely format using the traditional method, downloading each image separately.
* Importing the extended Supervisely format happens automatically in applications that previously imported projects in the Supervisely format without blobs. Such as [Import Images in Supervisely Format](https://ecosystem.supervisely.com/apps/import-images-in-sly-format) application or [Auto Import](https://ecosystem.supervisely.com/apps/main-import) tool.
